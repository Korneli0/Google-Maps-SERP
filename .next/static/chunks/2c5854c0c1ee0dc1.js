(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25913,91918,e=>{"use strict";let t,r,s,a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s};e.s(["cva",0,(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:i}=t,d=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let l=a(t)||a(s);return n[e][l]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return l(e,d,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...o}[t]):({...i,...o})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}],25913);var n=e.i(71645);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var d=e.i(43476),o=Symbol.for("react.lazy"),c=n[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var x=((t=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(u(r)&&"function"==typeof c&&(r=c(r._payload)),n.isValidElement(r)){var a;let e,l,d=(a=r,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),o=function(e,t){let r={...t};for(let s in t){let a=e[s],l=t[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...l}:"className"===s&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=i(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():i(e[t],null)}}}}(t,d):d),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null})).displayName="Slot.SlotClone",r=t,(s=n.forwardRef((e,t)=>{let{children:s,...a}=e;u(s)&&"function"==typeof c&&(s=c(s._payload));let l=n.Children.toArray(s),i=l.find(h);if(i){let e=i.props.children,s=l.map(t=>t!==i?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,d.jsx)(r,{...a,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,d.jsx)(r,{...a,ref:t,children:s})})).displayName="Slot.Slot",s),f=Symbol("radix.slottable");function h(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}e.s(["Slot",()=>x],91918)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},17658,e=>{"use strict";var t=e.i(43476),r=e.i(25913),s=e.i(71645),a=e.i(91918),l=e.i(31278);let n=(0,r.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:text-gray-900 shadow-sm",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50",ghost:"text-gray-600 hover:text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3 text-xs",lg:"h-11 px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=(0,s.forwardRef)(({className:e,variant:r,size:s,asChild:i=!1,isLoading:d=!1,children:o,...c},u)=>{let x=i?a.Slot:"button";return(0,t.jsxs)(x,{className:n({variant:r,size:s,className:e}),ref:u,disabled:d||c.disabled,...c,children:[d&&(0,t.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin"}),o]})});function d({children:e,className:r="",noPadding:s=!1}){return(0,t.jsx)("div",{className:`bg-white border border-gray-200 rounded-xl card-shadow ${r}`,children:s?e:(0,t.jsx)("div",{className:"p-6",children:e})})}i.displayName="Button";let o=(0,r.cva)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"bg-gray-100 text-gray-600 border border-gray-200",success:"bg-green-50 text-green-700 border border-green-200",warning:"bg-yellow-50 text-yellow-700 border border-yellow-200",destructive:"bg-red-50 text-red-700 border border-red-200",blue:"bg-blue-50 text-blue-700 border border-blue-200"}},defaultVariants:{variant:"default"}});function c({children:e,variant:r,className:s}){return(0,t.jsx)("span",{className:o({variant:r,className:s}),children:e})}let u=(0,s.forwardRef)(({className:e,icon:r,...s},a)=>(0,t.jsxs)("div",{className:"relative",children:[r&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:r}),(0,t.jsx)("input",{className:`
          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 
          file:border-0 file:bg-transparent file:text-sm file:font-medium 
          placeholder:text-gray-400 
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          disabled:cursor-not-allowed disabled:opacity-50
          transition-all duration-200
          ${r?"pl-10":""}
          ${e}
        `,ref:a,...s})]}));u.displayName="Input";let x=(0,s.forwardRef)(({className:e,icon:r,children:s,...a},l)=>(0,t.jsxs)("div",{className:"relative",children:[r&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none z-10",children:r}),(0,t.jsx)("select",{className:`
          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          disabled:cursor-not-allowed disabled:opacity-50
          appearance-none cursor-pointer
          ${r?"pl-10":""}
          ${e}
        `,ref:l,...a,children:s}),(0,t.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));function f({value:e,max:r=100,size:s="default",color:a="blue"}){let l=Math.round(e/r*100),n="sm"===s?"h-1.5":"h-2.5";return(0,t.jsx)("div",{className:`w-full bg-gray-100 rounded-full overflow-hidden ${n}`,children:(0,t.jsx)("div",{className:`${n} ${{green:"bg-green-500",blue:"bg-blue-600",yellow:"bg-yellow-500",red:"bg-red-500"}[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${l}%`}})})}function h({className:e}){return(0,t.jsx)("div",{className:`animate-pulse bg-gray-200 rounded-md ${e}`})}x.displayName="Select",e.s(["Badge",()=>c,"Button",0,i,"Card",()=>d,"Input",0,u,"Progress",()=>f,"Select",0,x,"Skeleton",()=>h])},70956,e=>{"use strict";let t=(0,e.i(75254).default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);e.s(["List",()=>t],70956)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=e.r(32061);function a({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return d}});let s=e.r(43476),a=e.r(74080),l=e.r(63599),n=e.r(9885),i=e.r(43369);function d({moduleIds:e}){if("u">typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;r.push(...e)}}if(0===r.length)return null;let d=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}${d}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let s=e.r(43476),a=e.r(71645),l=e.r(67585),n=e.r(52157);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...d,...e},r=(0,a.lazy)(()=>t.loader().then(i)),o=t.loading;function c(e){let i=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,c=d?a.Suspense:a.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(c,{...d?{fallback:i}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let s=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,s.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},20278,23945,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>r],20278);let s=(0,t.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);e.s(["Store",()=>s],23945)},64858,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(70703),a=e.i(22016),l=e.i(46897),n=e.i(87316),i=e.i(20278),d=e.i(75254);let o=(0,d.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),c=(0,d.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),u=(0,d.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),x=(0,d.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=(0,d.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),h=(0,d.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var p=e.i(70956);let m=(0,d.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var y=e.i(23945);let g=(0,d.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),b=(0,d.default)("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var j=e.i(18566),v=e.i(17658);let N=(0,s.default)(()=>e.A(33750),{loadableGenerated:{modules:[55212]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gray-100",children:(0,t.jsx)(x,{className:"w-8 h-8 text-gray-400 animate-spin"})})});function w({params:e}){let s=(0,j.useRouter)(),d=(0,r.use)(e),[w,k]=(0,r.useState)(null),[P,M]=(0,r.useState)(!0),[S,z]=(0,r.useState)("map"),[C,O]=(0,r.useState)(null);if((0,r.useEffect)(()=>{let e=()=>{fetch(`/api/scans/${d.id}`).then(e=>e.json()).then(e=>k(e.scan)).catch(console.error).finally(()=>M(!1))};e();let t=setInterval(()=>{(w?.status==="RUNNING"||w?.status==="PENDING")&&e()},5e3);return()=>clearInterval(t)},[d.id,w?.status]),P)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(x,{className:"animate-spin text-gray-400"})});if(!w)return(0,t.jsx)("div",{children:"Scan not found"});let R=w.gridSize*w.gridSize,_=w.results.length,$=w.results.filter(e=>e.rank&&e.rank<=3).length,E=w.results.filter(e=>e.rank&&e.rank>3&&e.rank<=10).length,L=w.results.reduce((e,t)=>e+(t.rank||20),0)/(_||1),A=e=>{try{return JSON.parse(e)}catch(e){return[]}},B=async()=>{if(confirm("Are you sure you want to delete this report? This action cannot be undone."))try{(await fetch(`/api/scans/${w.id}`,{method:"DELETE"})).ok&&s.push("/scans")}catch(e){console.error("Delete failed:",e),alert("Failed to delete scan")}},T=async()=>{if(confirm("Stop this scan? Results collected so far will be saved."))try{(await fetch(`/api/scans/${w.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"STOPPED"})})).ok&&k(e=>e?{...e,status:"STOPPED"}:null)}catch(e){console.error("Stop failed:",e),alert("Failed to stop scan")}};return(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(a.default,{href:"/scans",className:"w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,t.jsx)(o,{size:16,className:"text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[w.keyword,(0,t.jsx)(v.Badge,{variant:"COMPLETED"===w.status?"success":"blue",children:w.status})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-4 mt-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(l.MapPin,{size:12})," ",w.centerLat.toFixed(3),", ",w.centerLng.toFixed(3)]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.Calendar,{size:12})," ",new Date(w.createdAt).toDateString()]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[("RUNNING"===w.status||"PENDING"===w.status)&&(0,t.jsxs)(v.Button,{variant:"destructive",size:"sm",onClick:T,children:[(0,t.jsx)(b,{size:14,className:"mr-2"})," Stop Scan"]}),(0,t.jsxs)(v.Button,{variant:"outline",size:"sm",onClick:B,className:"text-red-500 hover:text-red-700 hover:bg-red-50 border-red-200",children:[(0,t.jsx)(g,{size:14,className:"mr-2"})," Delete"]}),(0,t.jsxs)(v.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(u,{size:14,className:"mr-2"})," Export"]}),(0,t.jsxs)(v.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(c,{size:14,className:"mr-2"})," Share"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(v.Card,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700",children:(0,t.jsx)(f,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:"Avg Rank"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["#",Math.round(L)]})]})]}),(0,t.jsxs)(v.Card,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700",children:(0,t.jsx)(i.Target,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:"Visibility"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[_>0?Math.round($/_*100):0,"%"]})]})]}),(0,t.jsxs)(v.Card,{className:"p-4 flex flex-col justify-center",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Top 3"}),(0,t.jsx)("span",{className:"font-bold text-emerald-600",children:$})]}),(0,t.jsx)(v.Progress,{value:$,max:_||1,size:"sm",color:"green"})]}),(0,t.jsxs)(v.Card,{className:"p-4 flex flex-col justify-center",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"4-10"}),(0,t.jsx)("span",{className:"font-bold text-amber-600",children:E})]}),(0,t.jsx)(v.Progress,{value:E,max:_||1,size:"sm",color:"yellow"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3 space-y-4",children:(0,t.jsxs)(v.Card,{noPadding:!0,className:"overflow-hidden h-[600px] flex flex-col border-none shadow-xl ring-1 ring-gray-200",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-100 bg-white flex justify-between items-center z-10",children:[(0,t.jsxs)("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,t.jsx)("button",{onClick:()=>z("map"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${"map"===S?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-800"}`,children:"Spatial View"}),(0,t.jsx)("button",{onClick:()=>z("list"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${"list"===S?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-800"}`,children:"List View"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-[10px] text-gray-400 font-mono tracking-tighter uppercase font-bold",children:["Progress: ",_,"/",R," Points"]}),(0,t.jsxs)(v.Button,{variant:"ghost",size:"sm",className:"h-8 text-xs font-bold text-gray-500 hover:text-blue-600",children:[(0,t.jsx)(h,{size:12,className:"mr-1"})," Filters"]})]})]}),(0,t.jsx)("div",{className:"flex-1 relative bg-gray-50",children:"map"===S?(0,t.jsx)(N,{center:[w.centerLat,w.centerLng],zoom:13,points:w.results.map(e=>({...e,hasData:!0}))||[],gridSize:w.gridSize,onPointClick:e=>O(e)}):(0,t.jsx)("div",{className:"p-8 h-full bg-white overflow-y-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-gray-50 text-gray-500 text-[10px] uppercase font-bold tracking-wider italic",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3",children:"Point ID"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Coordinates"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center",children:"Rank Found"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:w.results.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 text-sm",children:[(0,t.jsx)("td",{className:"px-6 py-4 font-mono text-xs text-gray-400",children:e.id.slice(-8)}),(0,t.jsxs)("td",{className:"px-6 py-4 text-gray-600",children:[e.lat.toFixed(4),", ",e.lng.toFixed(4)]}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:e.rank?(0,t.jsxs)(v.Badge,{variant:e.rank<=3?"success":e.rank<=10?"warning":"destructive",children:["#",e.rank]}):(0,t.jsx)(v.Badge,{children:"N/A"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)(v.Badge,{variant:"blue",children:"Captured"})})]},e.id))})]})})})]})}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(v.Card,{className:"min-h-[600px] flex flex-col p-0 overflow-hidden shadow-xl ring-1 ring-gray-200",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-blue-600 text-white",children:[(0,t.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,t.jsx)(y.Store,{size:18}),"Pin Inspection"]}),(0,t.jsx)("p",{className:"text-[10px] text-blue-100 mt-1",children:"Select a point on the map to see GBP profiles."})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:C?(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Point Rank"}),(0,t.jsxs)("p",{className:"text-2xl font-black text-gray-900",children:["#",C.rank??"-"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Location"}),(0,t.jsxs)("p",{className:"text-xs font-medium text-gray-600",children:[C.lat.toFixed(4),", ",C.lng.toFixed(4)]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 px-1",children:[(0,t.jsx)(p.List,{size:12}),"Ranking Profiles"]}),(0,t.jsx)("div",{className:"space-y-1",children:A(C.topResults).length>0?A(C.topResults).map((e,r)=>(0,t.jsxs)("div",{className:`
                                                    p-2.5 rounded-lg border flex items-center justify-between transition-colors
                                                    ${e.name.toLowerCase().includes(w.keyword.toLowerCase())?"bg-blue-50 border-blue-200":"bg-white border-gray-100 hover:border-gray-200"}
                                                `,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,t.jsx)("span",{className:`
                                                        w-6 h-6 rounded flex items-center justify-center text-[10px] font-black
                                                        ${e.rank<=3?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}
                                                    `,children:e.rank}),(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-800 truncate",children:e.name})]}),(0,t.jsx)(m,{size:12,className:"text-gray-300"})]},r)):(0,t.jsxs)("div",{className:"py-12 text-center text-gray-400",children:[(0,t.jsx)(x,{size:24,className:"mx-auto mb-2 opacity-20"}),(0,t.jsx)("p",{className:"text-xs",children:"Processing data..."})]})})]})]}):(0,t.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center text-gray-400",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4 ring-1 ring-gray-100",children:(0,t.jsx)(i.Target,{size:32,className:"opacity-20"})}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"No Point Selected"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Click any circle on the map to inspect the ranking GBP profiles at that coordinate."})]})})]})})]})]})}e.s(["default",()=>w],64858)},33750,e=>{e.v(t=>Promise.all(["static/chunks/f055d2e959f3d743.js","static/chunks/92775ae1698e5da0.css"].map(t=>e.l(t))).then(()=>t(55212)))}]);