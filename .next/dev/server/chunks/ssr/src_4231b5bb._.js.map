{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/ui/index.tsx"],"sourcesContent":["import { cva, type VariantProps } from 'class-variance-authority';\nimport { forwardRef } from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { Loader2 } from 'lucide-react';\n\n// ============= BUTTON =============\nconst buttonVariants = cva(\n    'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n    {\n        variants: {\n            variant: {\n                default: 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm',\n                secondary: 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:text-gray-900 shadow-sm',\n                outline: 'border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50',\n                ghost: 'text-gray-600 hover:text-gray-900 hover:bg-gray-100',\n                destructive: 'bg-red-600 text-white hover:bg-red-700',\n                link: 'text-blue-600 underline-offset-4 hover:underline',\n            },\n            size: {\n                default: 'h-10 px-4 py-2',\n                sm: 'h-9 px-3 text-xs',\n                lg: 'h-11 px-8 text-base',\n                icon: 'h-10 w-10',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n            size: 'default',\n        },\n    }\n);\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean;\n    isLoading?: boolean;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, isLoading = false, children, ...props }, ref) => {\n        const Comp = asChild ? Slot : 'button';\n        return (\n            <Comp\n                className={buttonVariants({ variant, size, className })}\n                ref={ref}\n                disabled={isLoading || props.disabled}\n                {...props}\n            >\n                {isLoading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n                {children}\n            </Comp>\n        );\n    }\n);\nButton.displayName = 'Button';\n\n// ============= CARD =============\nexport function Card({\n    children,\n    className = '',\n    noPadding = false,\n}: {\n    children: React.ReactNode;\n    className?: string;\n    noPadding?: boolean;\n}) {\n    return (\n        <div className={`bg-white border border-gray-200 rounded-xl card-shadow ${className}`}>\n            {noPadding ? children : <div className=\"p-6\">{children}</div>}\n        </div>\n    );\n}\n\n// ============= BADGE =============\nconst badgeVariants = cva(\n    'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n    {\n        variants: {\n            variant: {\n                default: 'bg-gray-100 text-gray-600 border border-gray-200',\n                success: 'bg-green-50 text-green-700 border border-green-200',\n                warning: 'bg-yellow-50 text-yellow-700 border border-yellow-200',\n                destructive: 'bg-red-50 text-red-700 border border-red-200',\n                blue: 'bg-blue-50 text-blue-700 border border-blue-200',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n        },\n    }\n);\n\nexport function Badge({ children, variant, className }: { children: React.ReactNode, variant?: VariantProps<typeof badgeVariants>['variant'], className?: string }) {\n    return (\n        <span className={badgeVariants({ variant, className })}>\n            {children}\n        </span>\n    );\n}\n\n// ============= INPUT =============\nexport const Input = forwardRef<\n    HTMLInputElement,\n    React.InputHTMLAttributes<HTMLInputElement> & { icon?: React.ReactNode }\n>(({ className, icon, ...props }, ref) => {\n    return (\n        <div className=\"relative\">\n            {icon && (\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">\n                    {icon}\n                </div>\n            )}\n            <input\n                className={`\n          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 \n          file:border-0 file:bg-transparent file:text-sm file:font-medium \n          placeholder:text-gray-400 \n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n          disabled:cursor-not-allowed disabled:opacity-50\n          transition-all duration-200\n          ${icon ? 'pl-10' : ''}\n          ${className}\n        `}\n                ref={ref}\n                {...props}\n            />\n        </div>\n    );\n});\nInput.displayName = 'Input';\n\n// ============= SELECT =============\nexport const Select = forwardRef<\n    HTMLSelectElement,\n    React.SelectHTMLAttributes<HTMLSelectElement> & { icon?: React.ReactNode }\n>(({ className, icon, children, ...props }, ref) => {\n    return (\n        <div className=\"relative\">\n            {icon && (\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none z-10\">\n                    {icon}\n                </div>\n            )}\n            <select\n                className={`\n          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n          disabled:cursor-not-allowed disabled:opacity-50\n          appearance-none cursor-pointer\n          ${icon ? 'pl-10' : ''}\n          ${className}\n        `}\n                ref={ref}\n                {...props}\n            >\n                {children}\n            </select>\n            <div className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n            </div>\n        </div>\n    );\n});\nSelect.displayName = 'Select';\n\n// ============= PROGRESS =============\nexport function Progress({\n    value,\n    max = 100,\n    size = 'default',\n    color = 'blue'\n}: {\n    value: number;\n    max?: number;\n    size?: 'sm' | 'default';\n    color?: 'green' | 'blue' | 'yellow' | 'red';\n}) {\n    const percentage = Math.round((value / max) * 100);\n    const h = size === 'sm' ? 'h-1.5' : 'h-2.5';\n    const bg = {\n        green: 'bg-green-500',\n        blue: 'bg-blue-600',\n        yellow: 'bg-yellow-500',\n        red: 'bg-red-500',\n    }[color];\n\n    return (\n        <div className={`w-full bg-gray-100 rounded-full overflow-hidden ${h}`}>\n            <div\n                className={`${h} ${bg} rounded-full transition-all duration-500 ease-out`}\n                style={{ width: `${percentage}%` }}\n            />\n        </div>\n    );\n}\n\n// ============= SKELETON =============\nexport function Skeleton({ className }: { className?: string }) {\n    return (\n        <div className={`animate-pulse bg-gray-200 rounded-md ${className}`} />\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/app/scans/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, use } from 'react';\nimport dynamic from 'next/dynamic';\nimport Link from 'next/link';\nimport {\n    MapPin,\n    Calendar,\n    Target,\n    ChevronLeft,\n    Share2,\n    Download,\n    RefreshCw,\n    Trophy,\n    Filter,\n    List,\n    ChevronRight,\n    ExternalLink,\n    Store,\n    Trash2,\n    StopCircle\n} from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport { Card, Button, Badge, Progress } from '@/components/ui';\n\n// Dynamically import Map component to avoid SSR issues with Leaflet\nconst MapComponent = dynamic(() => import('@/components/ui/Map'), {\n    ssr: false,\n    loading: () => (\n        <div className=\"h-full w-full flex items-center justify-center bg-gray-100\">\n            <RefreshCw className=\"w-8 h-8 text-gray-400 animate-spin\" />\n        </div>\n    ),\n});\n\ninterface Result {\n    id: string;\n    lat: number;\n    lng: number;\n    rank: number | null;\n    topResults: string; // JSON string\n}\n\ninterface Scan {\n    id: string;\n    keyword: string;\n    status: string;\n    gridSize: number;\n    radius: number;\n    frequency: string;\n    createdAt: string;\n    centerLat: number;\n    centerLng: number;\n    results: Result[];\n}\n\ninterface RankedBusiness {\n    name: string;\n    rank: number;\n}\n\nexport default function ScanReportPage({ params }: { params: Promise<{ id: string }> }) {\n    const router = useRouter();\n    const resolvedParams = use(params);\n    const [scan, setScan] = useState<Scan | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [activeTab, setActiveTab] = useState<'map' | 'list'>('map');\n    const [selectedPoint, setSelectedPoint] = useState<Result | null>(null);\n\n    useEffect(() => {\n        const fetchScan = () => {\n            fetch(`/api/scans/${resolvedParams.id}`)\n                .then(res => res.json())\n                .then(data => setScan(data.scan))\n                .catch(console.error)\n                .finally(() => setLoading(false));\n        };\n\n        fetchScan();\n\n        const interval = setInterval(() => {\n            if (scan?.status === 'RUNNING' || scan?.status === 'PENDING') {\n                fetchScan();\n            }\n        }, 5000);\n\n        return () => clearInterval(interval);\n    }, [resolvedParams.id, scan?.status]);\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <RefreshCw className=\"animate-spin text-gray-400\" />\n            </div>\n        );\n    }\n\n    if (!scan) return <div>Scan not found</div>;\n\n    const totalPoints = scan.gridSize * scan.gridSize;\n    const completedPoints = scan.results.length;\n\n    const top3Count = scan.results.filter(r => r.rank && r.rank <= 3).length;\n    const top10Count = scan.results.filter(r => r.rank && r.rank > 3 && r.rank <= 10).length;\n    const avgRank = scan.results.reduce((acc, r) => acc + (r.rank || 20), 0) / (completedPoints || 1);\n\n    const getTopResults = (jsonStr: string): RankedBusiness[] => {\n        try {\n            return JSON.parse(jsonStr);\n        } catch (e) {\n            return [];\n        }\n    };\n\n    const handleDelete = async () => {\n        if (!confirm('Are you sure you want to delete this report? This action cannot be undone.')) return;\n        try {\n            const res = await fetch(`/api/scans/${scan.id}`, { method: 'DELETE' });\n            if (res.ok) router.push('/scans');\n        } catch (error) {\n            console.error('Delete failed:', error);\n            alert('Failed to delete scan');\n        }\n    };\n\n    const handleStop = async () => {\n        if (!confirm('Stop this scan? Results collected so far will be saved.')) return;\n        try {\n            const res = await fetch(`/api/scans/${scan.id}`, {\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ status: 'STOPPED' })\n            });\n            if (res.ok) {\n                setScan(prev => prev ? { ...prev, status: 'STOPPED' } : null);\n            }\n        } catch (error) {\n            console.error('Stop failed:', error);\n            alert('Failed to stop scan');\n        }\n    };\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6\">\n            {/* Breadcrumb & Actions */}\n            <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-4\">\n                    <Link href=\"/scans\" className=\"w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-50 transition-colors\">\n                        <ChevronLeft size={16} className=\"text-gray-600\" />\n                    </Link>\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3\">\n                            {scan.keyword}\n                            <Badge variant={scan.status === 'COMPLETED' ? 'success' : 'blue'}>{scan.status}</Badge>\n                        </h1>\n                        <p className=\"text-sm text-gray-500 flex items-center gap-4 mt-1\">\n                            <span className=\"flex items-center gap-1\"><MapPin size={12} /> {scan.centerLat.toFixed(3)}, {scan.centerLng.toFixed(3)}</span>\n                            <span className=\"flex items-center gap-1\"><Calendar size={12} /> {new Date(scan.createdAt).toDateString()}</span>\n                        </p>\n                    </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    {(scan.status === 'RUNNING' || scan.status === 'PENDING') && (\n                        <Button variant=\"destructive\" size=\"sm\" onClick={handleStop}>\n                            <StopCircle size={14} className=\"mr-2\" /> Stop Scan\n                        </Button>\n                    )}\n                    <Button variant=\"outline\" size=\"sm\" onClick={handleDelete} className=\"text-red-500 hover:text-red-700 hover:bg-red-50 border-red-200\">\n                        <Trash2 size={14} className=\"mr-2\" /> Delete\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\"><Download size={14} className=\"mr-2\" /> Export</Button>\n                    <Button variant=\"outline\" size=\"sm\"><Share2 size={14} className=\"mr-2\" /> Share</Button>\n                </div>\n            </div>\n\n            {/* KPI Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <Card className=\"p-4 flex items-center gap-4\">\n                    <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700\">\n                        <Trophy size={20} />\n                    </div>\n                    <div>\n                        <p className=\"text-sm text-gray-500 font-medium\">Avg Rank</p>\n                        <p className=\"text-2xl font-bold text-gray-900\">#{Math.round(avgRank)}</p>\n                    </div>\n                </Card>\n                <Card className=\"p-4 flex items-center gap-4\">\n                    <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700\">\n                        <Target size={20} />\n                    </div>\n                    <div>\n                        <p className=\"text-sm text-gray-500 font-medium\">Visibility</p>\n                        <p className=\"text-2xl font-bold text-gray-900\">\n                            {completedPoints > 0 ? Math.round((top3Count / completedPoints) * 100) : 0}%\n                        </p>\n                    </div>\n                </Card>\n                <Card className=\"p-4 flex flex-col justify-center\">\n                    <div className=\"flex justify-between text-sm mb-1\">\n                        <span className=\"text-gray-500\">Top 3</span>\n                        <span className=\"font-bold text-emerald-600\">{top3Count}</span>\n                    </div>\n                    <Progress value={top3Count} max={completedPoints || 1} size=\"sm\" color=\"green\" />\n                </Card>\n                <Card className=\"p-4 flex flex-col justify-center\">\n                    <div className=\"flex justify-between text-sm mb-1\">\n                        <span className=\"text-gray-500\">4-10</span>\n                        <span className=\"font-bold text-amber-600\">{top10Count}</span>\n                    </div>\n                    <Progress value={top10Count} max={completedPoints || 1} size=\"sm\" color=\"yellow\" />\n                </Card>\n            </div>\n\n            {/* Main Content Area */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n                {/* Main Map/List View */}\n                <div className=\"lg:col-span-3 space-y-4\">\n                    <Card noPadding className=\"overflow-hidden h-[600px] flex flex-col border-none shadow-xl ring-1 ring-gray-200\">\n                        {/* Toolkit Bar */}\n                        <div className=\"p-3 border-b border-gray-100 bg-white flex justify-between items-center z-10\">\n                            <div className=\"flex gap-1 bg-gray-100 p-1 rounded-lg\">\n                                <button\n                                    onClick={() => setActiveTab('map')}\n                                    className={`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${activeTab === 'map' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500 hover:text-gray-800'}`}\n                                >\n                                    Spatial View\n                                </button>\n                                <button\n                                    onClick={() => setActiveTab('list')}\n                                    className={`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${activeTab === 'list' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500 hover:text-gray-800'}`}\n                                >\n                                    List View\n                                </button>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                                <span className=\"text-[10px] text-gray-400 font-mono tracking-tighter uppercase font-bold\">Progress: {completedPoints}/{totalPoints} Points</span>\n                                <Button variant=\"ghost\" size=\"sm\" className=\"h-8 text-xs font-bold text-gray-500 hover:text-blue-600\">\n                                    <Filter size={12} className=\"mr-1\" /> Filters\n                                </Button>\n                            </div>\n                        </div>\n\n                        <div className=\"flex-1 relative bg-gray-50\">\n                            {activeTab === 'map' ? (\n                                <MapComponent\n                                    center={[scan.centerLat, scan.centerLng]}\n                                    zoom={13}\n                                    points={scan.results.map(r => ({ ...r, hasData: true })) || []}\n                                    gridSize={scan.gridSize}\n                                    onPointClick={(point) => setSelectedPoint(point as unknown as Result)}\n                                />\n                            ) : (\n                                <div className=\"p-8 h-full bg-white overflow-y-auto\">\n                                    <table className=\"w-full text-left\">\n                                        <thead className=\"bg-gray-50 text-gray-500 text-[10px] uppercase font-bold tracking-wider italic\">\n                                            <tr>\n                                                <th className=\"px-6 py-3\">Point ID</th>\n                                                <th className=\"px-6 py-3\">Coordinates</th>\n                                                <th className=\"px-6 py-3 text-center\">Rank Found</th>\n                                                <th className=\"px-6 py-3\">Status</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody className=\"divide-y divide-gray-100\">\n                                            {scan.results.map((r) => (\n                                                <tr key={r.id} className=\"hover:bg-gray-50 text-sm\">\n                                                    <td className=\"px-6 py-4 font-mono text-xs text-gray-400\">{r.id.slice(-8)}</td>\n                                                    <td className=\"px-6 py-4 text-gray-600\">{r.lat.toFixed(4)}, {r.lng.toFixed(4)}</td>\n                                                    <td className=\"px-6 py-4 text-center\">\n                                                        {r.rank ? (\n                                                            <Badge variant={r.rank <= 3 ? 'success' : r.rank <= 10 ? 'warning' : 'destructive'}>\n                                                                #{r.rank}\n                                                            </Badge>\n                                                        ) : (\n                                                            <Badge>N/A</Badge>\n                                                        )}\n                                                    </td>\n                                                    <td className=\"px-6 py-4\">\n                                                        <Badge variant=\"blue\">Captured</Badge>\n                                                    </td>\n                                                </tr>\n                                            ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                        </div>\n                    </Card>\n                </div>\n\n                {/* Dynamic Sidebar: Results Inspection */}\n                <div className=\"space-y-6\">\n                    <Card className=\"min-h-[600px] flex flex-col p-0 overflow-hidden shadow-xl ring-1 ring-gray-200\">\n                        <div className=\"p-4 border-b border-gray-100 bg-blue-600 text-white\">\n                            <h3 className=\"font-bold flex items-center gap-2\">\n                                <Store size={18} />\n                                Pin Inspection\n                            </h3>\n                            <p className=\"text-[10px] text-blue-100 mt-1\">Select a point on the map to see GBP profiles.</p>\n                        </div>\n\n                        <div className=\"flex-1 overflow-y-auto\">\n                            {selectedPoint ? (\n                                <div className=\"p-4 space-y-4\">\n                                    <div className=\"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-100\">\n                                        <div>\n                                            <p className=\"text-[10px] text-gray-400 font-bold uppercase\">Point Rank</p>\n                                            <p className=\"text-2xl font-black text-gray-900\">#{selectedPoint.rank ?? '-'}</p>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <p className=\"text-[10px] text-gray-400 font-bold uppercase\">Location</p>\n                                            <p className=\"text-xs font-medium text-gray-600\">{selectedPoint.lat.toFixed(4)}, {selectedPoint.lng.toFixed(4)}</p>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 px-1\">\n                                            <List size={12} />\n                                            Ranking Profiles\n                                        </h4>\n                                        <div className=\"space-y-1\">\n                                            {getTopResults(selectedPoint.topResults).length > 0 ? (\n                                                getTopResults(selectedPoint.topResults).map((biz, idx) => (\n                                                    <div\n                                                        key={idx}\n                                                        className={`\n                                                    p-2.5 rounded-lg border flex items-center justify-between transition-colors\n                                                    ${biz.name.toLowerCase().includes(scan.keyword.toLowerCase()) ? 'bg-blue-50 border-blue-200' : 'bg-white border-gray-100 hover:border-gray-200'}\n                                                `}\n                                                    >\n                                                        <div className=\"flex items-center gap-3 overflow-hidden\">\n                                                            <span className={`\n                                                        w-6 h-6 rounded flex items-center justify-center text-[10px] font-black\n                                                        ${biz.rank <= 3 ? 'bg-emerald-100 text-emerald-700' : 'bg-gray-100 text-gray-600'}\n                                                    `}>\n                                                                {biz.rank}\n                                                            </span>\n                                                            <span className=\"text-xs font-semibold text-gray-800 truncate\">{biz.name}</span>\n                                                        </div>\n                                                        <ExternalLink size={12} className=\"text-gray-300\" />\n                                                    </div>\n                                                ))\n                                            ) : (\n                                                <div className=\"py-12 text-center text-gray-400\">\n                                                    <RefreshCw size={24} className=\"mx-auto mb-2 opacity-20\" />\n                                                    <p className=\"text-xs\">Processing data...</p>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                            ) : (\n                                <div className=\"h-full flex flex-col items-center justify-center p-8 text-center text-gray-400\">\n                                    <div className=\"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4 ring-1 ring-gray-100\">\n                                        <Target size={32} className=\"opacity-20\" />\n                                    </div>\n                                    <p className=\"text-sm font-medium text-gray-500\">No Point Selected</p>\n                                    <p className=\"text-xs mt-1\">Click any circle on the map to inspect the ranking GBP profiles at that coordinate.</p>\n                                </div>\n                            )}\n                        </div>\n                    </Card>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}