{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/app/api/geocode/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function GET(request: Request) {\n    const { searchParams } = new URL(request.url);\n    const address = searchParams.get('address');\n\n    if (!address) {\n        return NextResponse.json({ error: 'Address is required' }, { status: 400 });\n    }\n\n    try {\n        // Using Nominatim (OpenStreetMap) for free geocoding\n        const response = await fetch(\n            `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&limit=1`,\n            {\n                headers: {\n                    'User-Agent': 'GeoRanker/1.0',\n                },\n            }\n        );\n\n        const data = await response.json();\n\n        if (data && data.length > 0) {\n            return NextResponse.json({\n                lat: parseFloat(data[0].lat),\n                lng: parseFloat(data[0].lon),\n                display_name: data[0].display_name,\n            });\n        }\n\n        return NextResponse.json({ error: 'Address not found' }, { status: 404 });\n    } catch (error) {\n        console.error('Geocoding error:', error);\n        return NextResponse.json({ error: 'Geocoding failed' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,UAAU,aAAa,GAAG,CAAC;IAEjC,IAAI,CAAC,SAAS;QACV,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;IAC7E;IAEA,IAAI;QACA,qDAAqD;QACrD,MAAM,WAAW,MAAM,MACnB,CAAC,yDAAyD,EAAE,mBAAmB,SAAS,QAAQ,CAAC,EACjG;YACI,SAAS;gBACL,cAAc;YAClB;QACJ;QAGJ,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;YACzB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACrB,KAAK,WAAW,IAAI,CAAC,EAAE,CAAC,GAAG;gBAC3B,KAAK,WAAW,IAAI,CAAC,EAAE,CAAC,GAAG;gBAC3B,cAAc,IAAI,CAAC,EAAE,CAAC,YAAY;YACtC;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAoB,GAAG;YAAE,QAAQ;QAAI;IAC3E,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACJ"}}]
}