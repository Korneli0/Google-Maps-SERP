{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,sMAAY;AAElB,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/ui/index.tsx"],"sourcesContent":["import { cva, type VariantProps } from 'class-variance-authority';\nimport { forwardRef } from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { Loader2 } from 'lucide-react';\n\n// ============= BUTTON =============\nconst buttonVariants = cva(\n    'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n    {\n        variants: {\n            variant: {\n                default: 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm',\n                secondary: 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:text-gray-900 shadow-sm',\n                outline: 'border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50',\n                ghost: 'text-gray-600 hover:text-gray-900 hover:bg-gray-100',\n                destructive: 'bg-red-600 text-white hover:bg-red-700',\n                link: 'text-blue-600 underline-offset-4 hover:underline',\n            },\n            size: {\n                default: 'h-10 px-4 py-2',\n                sm: 'h-9 px-3 text-xs',\n                lg: 'h-11 px-8 text-base',\n                icon: 'h-10 w-10',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n            size: 'default',\n        },\n    }\n);\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean;\n    isLoading?: boolean;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, isLoading = false, children, ...props }, ref) => {\n        const Comp = asChild ? Slot : 'button';\n        return (\n            <Comp\n                className={buttonVariants({ variant, size, className })}\n                ref={ref}\n                disabled={isLoading || props.disabled}\n                {...props}\n            >\n                {isLoading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n                {children}\n            </Comp>\n        );\n    }\n);\nButton.displayName = 'Button';\n\n// ============= CARD =============\nexport function Card({\n    children,\n    className = '',\n    noPadding = false,\n}: {\n    children: React.ReactNode;\n    className?: string;\n    noPadding?: boolean;\n}) {\n    return (\n        <div className={`bg-white border border-gray-200 rounded-xl card-shadow ${className}`}>\n            {noPadding ? children : <div className=\"p-6\">{children}</div>}\n        </div>\n    );\n}\n\n// ============= BADGE =============\nconst badgeVariants = cva(\n    'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n    {\n        variants: {\n            variant: {\n                default: 'bg-gray-100 text-gray-600 border border-gray-200',\n                success: 'bg-green-50 text-green-700 border border-green-200',\n                warning: 'bg-yellow-50 text-yellow-700 border border-yellow-200',\n                destructive: 'bg-red-50 text-red-700 border border-red-200',\n                blue: 'bg-blue-50 text-blue-700 border border-blue-200',\n                outline: 'bg-transparent text-gray-400 border border-gray-200',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n        },\n    }\n);\n\nexport function Badge({ children, variant, className }: { children: React.ReactNode, variant?: VariantProps<typeof badgeVariants>['variant'], className?: string }) {\n    return (\n        <span className={badgeVariants({ variant, className })}>\n            {children}\n        </span>\n    );\n}\n\n// ============= INPUT =============\nexport const Input = forwardRef<\n    HTMLInputElement,\n    React.InputHTMLAttributes<HTMLInputElement> & { icon?: React.ReactNode }\n>(({ className, icon, ...props }, ref) => {\n    return (\n        <div className=\"relative\">\n            {icon && (\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">\n                    {icon}\n                </div>\n            )}\n            <input\n                className={`\n          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 \n          file:border-0 file:bg-transparent file:text-sm file:font-medium \n          placeholder:text-gray-400 \n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n          disabled:cursor-not-allowed disabled:opacity-50\n          transition-all duration-200\n          ${icon ? 'pl-10' : ''}\n          ${className}\n        `}\n                ref={ref}\n                {...props}\n            />\n        </div>\n    );\n});\nInput.displayName = 'Input';\n\n// ============= SELECT =============\nexport const Select = forwardRef<\n    HTMLSelectElement,\n    React.SelectHTMLAttributes<HTMLSelectElement> & { icon?: React.ReactNode }\n>(({ className, icon, children, ...props }, ref) => {\n    return (\n        <div className=\"relative\">\n            {icon && (\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none z-10\">\n                    {icon}\n                </div>\n            )}\n            <select\n                className={`\n          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n          disabled:cursor-not-allowed disabled:opacity-50\n          appearance-none cursor-pointer\n          ${icon ? 'pl-10' : ''}\n          ${className}\n        `}\n                ref={ref}\n                {...props}\n            >\n                {children}\n            </select>\n            <div className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n            </div>\n        </div>\n    );\n});\nSelect.displayName = 'Select';\n\n// ============= PROGRESS =============\nexport function Progress({\n    value,\n    max = 100,\n    size = 'default',\n    color = 'blue'\n}: {\n    value: number;\n    max?: number;\n    size?: 'sm' | 'default';\n    color?: 'green' | 'blue' | 'yellow' | 'red';\n}) {\n    const percentage = Math.round((value / max) * 100);\n    const h = size === 'sm' ? 'h-1.5' : 'h-2.5';\n    const bg = {\n        green: 'bg-green-500',\n        blue: 'bg-blue-600',\n        yellow: 'bg-yellow-500',\n        red: 'bg-red-500',\n    }[color];\n\n    return (\n        <div className={`w-full bg-gray-100 rounded-full overflow-hidden ${h}`}>\n            <div\n                className={`${h} ${bg} rounded-full transition-all duration-500 ease-out`}\n                style={{ width: `${percentage}%` }}\n            />\n        </div>\n    );\n}\n\n// ============= SKELETON =============\nexport function Skeleton({ className }: { className?: string }) {\n    return (\n        <div className={`animate-pulse bg-gray-200 rounded-md ${className}`} />\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/app/reports/page.tsx"],"sourcesContent":["import { prisma } from '@/lib/prisma';\nimport Link from 'next/link';\nimport { FileText, Download, TrendingUp, Calendar, MapPin, Search } from 'lucide-react';\nimport { Card, Button, Badge } from '@/components/ui';\n\nexport default async function ReportsPage() {\n    const reports = await prisma.scan.findMany({\n        where: { status: 'COMPLETED' },\n        orderBy: { createdAt: 'desc' },\n        include: { results: true }\n    });\n\n    return (\n        <div className=\"max-w-7xl mx-auto space-y-8\">\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-end gap-4\">\n                <div>\n                    <h1 className=\"text-3xl font-bold text-gray-900\">Reports Library</h1>\n                    <p className=\"text-gray-500 mt-1\">Access and download your historical ranking reports.</p>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {reports.length === 0 ? (\n                    <div className=\"col-span-3 py-16 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-200\">\n                        <FileText size={48} className=\"mx-auto mb-4 opacity-20\" />\n                        <h3 className=\"text-lg font-medium text-gray-900\">No reports generated yet</h3>\n                        <p className=\"text-sm mt-1 mb-6\">Completed scans will appear here for download.</p>\n                        <Link href=\"/scans/new\">\n                            <Button>Start New Scan</Button>\n                        </Link>\n                    </div>\n                ) : (\n                    reports.map(report => {\n                        const completedPoints = report.results.length;\n                        const top3Count = report.results.filter(r => r.rank && r.rank <= 3).length;\n                        const visibility = completedPoints > 0 ? Math.round((top3Count / completedPoints) * 100) : 0;\n\n                        return (\n                            <Card key={report.id} className=\"flex flex-col h-full hover:shadow-md transition-shadow\">\n                                <div className=\"p-6 flex-1\">\n                                    <div className=\"flex justify-between items-start mb-4\">\n                                        <div className=\"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600\">\n                                            <FileText size={20} />\n                                        </div>\n                                        <Badge variant=\"success\">Ready</Badge>\n                                    </div>\n\n                                    <h3 className=\"text-lg font-bold text-gray-900 mb-1\">{report.keyword}</h3>\n                                    <p className=\"text-sm text-gray-500 flex items-center gap-1 mb-4\">\n                                        <MapPin size={12} />\n                                        {report.centerLat.toFixed(3)}, {report.centerLng.toFixed(3)}\n                                    </p>\n\n                                    <div className=\"space-y-3\">\n                                        <div className=\"flex justify-between text-sm\">\n                                            <span className=\"text-gray-500\">Scan Date</span>\n                                            <span className=\"font-medium\">{new Date(report.createdAt).toLocaleDateString()}</span>\n                                        </div>\n                                        <div className=\"flex justify-between text-sm\">\n                                            <span className=\"text-gray-500\">Grid Size</span>\n                                            <span className=\"font-medium\">{report.gridSize}x{report.gridSize}</span>\n                                        </div>\n                                        <div className=\"flex justify-between text-sm\">\n                                            <span className=\"text-gray-500\">Visibility Score</span>\n                                            <span className=\"font-bold text-emerald-600\">{visibility}%</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"p-4 bg-gray-50 border-t border-gray-100 flex gap-3\">\n                                    <Link href={`/scans/${report.id}`} className=\"flex-1\">\n                                        <Button variant=\"outline\" className=\"w-full\">View</Button>\n                                    </Link>\n                                    <Button variant=\"ghost\" size=\"icon\" title=\"Download CSV\">\n                                        <Download size={18} className=\"text-gray-500\" />\n                                    </Button>\n                                </div>\n                            </Card>\n                        );\n                    })\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AACA;;;;;;AAEe,eAAe;IAC1B,MAAM,UAAU,MAAM,8HAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvC,OAAO;YAAE,QAAQ;QAAY;QAC7B,SAAS;YAAE,WAAW;QAAO;QAC7B,SAAS;YAAE,SAAS;QAAK;IAC7B;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;;sCACG,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;;;;;;0BAI1C,8OAAC;gBAAI,WAAU;0BACV,QAAQ,MAAM,KAAK,kBAChB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,0NAAQ;4BAAC,MAAM;4BAAI,WAAU;;;;;;sCAC9B,8OAAC;4BAAG,WAAU;sCAAoC;;;;;;sCAClD,8OAAC;4BAAE,WAAU;sCAAoB;;;;;;sCACjC,8OAAC,0LAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC,2IAAM;0CAAC;;;;;;;;;;;;;;;;2BAIhB,QAAQ,GAAG,CAAC,CAAA;oBACR,MAAM,kBAAkB,OAAO,OAAO,CAAC,MAAM;oBAC7C,MAAM,YAAY,OAAO,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI,EAAE,IAAI,IAAI,GAAG,MAAM;oBAC1E,MAAM,aAAa,kBAAkB,IAAI,KAAK,KAAK,CAAC,AAAC,YAAY,kBAAmB,OAAO;oBAE3F,qBACI,8OAAC,yIAAI;wBAAiB,WAAU;;0CAC5B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAI,WAAU;0DACX,cAAA,8OAAC,0NAAQ;oDAAC,MAAM;;;;;;;;;;;0DAEpB,8OAAC,0IAAK;gDAAC,SAAQ;0DAAU;;;;;;;;;;;;kDAG7B,8OAAC;wCAAG,WAAU;kDAAwC,OAAO,OAAO;;;;;;kDACpE,8OAAC;wCAAE,WAAU;;0DACT,8OAAC,oNAAM;gDAAC,MAAM;;;;;;4CACb,OAAO,SAAS,CAAC,OAAO,CAAC;4CAAG;4CAAG,OAAO,SAAS,CAAC,OAAO,CAAC;;;;;;;kDAG7D,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAK,WAAU;kEAAgB;;;;;;kEAChC,8OAAC;wDAAK,WAAU;kEAAe,IAAI,KAAK,OAAO,SAAS,EAAE,kBAAkB;;;;;;;;;;;;0DAEhF,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAK,WAAU;kEAAgB;;;;;;kEAChC,8OAAC;wDAAK,WAAU;;4DAAe,OAAO,QAAQ;4DAAC;4DAAE,OAAO,QAAQ;;;;;;;;;;;;;0DAEpE,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAK,WAAU;kEAAgB;;;;;;kEAChC,8OAAC;wDAAK,WAAU;;4DAA8B;4DAAW;;;;;;;;;;;;;;;;;;;;;;;;;0CAIrE,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,0LAAI;wCAAC,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;wCAAE,WAAU;kDACzC,cAAA,8OAAC,2IAAM;4CAAC,SAAQ;4CAAU,WAAU;sDAAS;;;;;;;;;;;kDAEjD,8OAAC,2IAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAO,OAAM;kDACtC,cAAA,8OAAC,sNAAQ;4CAAC,MAAM;4CAAI,WAAU;;;;;;;;;;;;;;;;;;uBAnC/B,OAAO,EAAE;;;;;gBAwC5B;;;;;;;;;;;;AAKpB"}}]
}